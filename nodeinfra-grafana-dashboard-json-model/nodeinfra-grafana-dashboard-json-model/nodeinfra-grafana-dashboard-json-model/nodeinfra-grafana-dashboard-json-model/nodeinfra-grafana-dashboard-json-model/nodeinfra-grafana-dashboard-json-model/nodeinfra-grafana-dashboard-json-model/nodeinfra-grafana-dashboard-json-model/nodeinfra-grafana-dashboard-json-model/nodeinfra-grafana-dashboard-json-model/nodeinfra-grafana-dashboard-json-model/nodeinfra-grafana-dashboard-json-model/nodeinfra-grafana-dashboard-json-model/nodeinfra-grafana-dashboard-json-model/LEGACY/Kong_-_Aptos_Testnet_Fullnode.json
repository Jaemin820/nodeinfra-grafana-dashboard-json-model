{"meta":{"type":"db","canSave":true,"canEdit":true,"canAdmin":true,"canStar":true,"canDelete":true,"slug":"kong-aptos-testnet-fullnode","url":"/d/mY9p7dQmzat/kong-aptos-testnet-fullnode","expires":"0001-01-01T00:00:00Z","created":"2023-05-04T02:53:38Z","updated":"2023-12-19T06:41:46Z","updatedBy":"Anonymous","createdBy":"Anonymous","version":7,"hasAcl":false,"isFolder":false,"folderId":143,"folderUid":"NuyAuQ-Vk","folderTitle":"LEGACY","folderUrl":"/dashboards/f/NuyAuQ-Vk/legacy","provisioned":false,"provisionedExternalId":"","annotationsPermissions":{"dashboard":{"canAdd":true,"canEdit":true,"canDelete":true},"organization":{"canAdd":true,"canEdit":true,"canDelete":true}}},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"description":"Dashboard that graphs metrics exported via Prometheus plugin in Kong (http://github.com/kong/kong)","editable":true,"fiscalYearStartMonth":0,"gnetId":7424,"graphTooltip":0,"id":192,"links":[],"liveNow":false,"panels":[{"collapsed":false,"datasource":{"type":"prometheus","uid":"iBujgiB7z"},"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":53,"panels":[],"targets":[{"datasource":{"type":"prometheus","uid":"iBujgiB7z"},"refId":"A"}],"title":"Caching","type":"row"},{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":100,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"percent"},"overrides":[]},"gridPos":{"h":9,"w":24,"x":0,"y":1},"id":22,"options":{"minVizHeight":200,"minVizWidth":200,"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":false,"showThresholdMarkers":true,"sizing":"auto","text":{"titleSize":12}},"pluginVersion":"10.3.0-64167","repeat":"servicetype","repeatDirection":"v","targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","exemplar":true,"expr":"(kong_memory_lua_shared_dict_bytes{chain=~\"APT\", network=~\"testnet\", servicetype=~\"$servicetype\",shared_dict!~\"kong_process_events\"}/kong_memory_lua_shared_dict_total_bytes{chain=~\"APT\", network=~\"testnet\", servicetype=~\"$servicetype\",shared_dict!~\"kong_process_events\"})*100","format":"time_series","instant":false,"interval":"","legendFormat":"{{shared_dict}} ({{kong_subsystem}})","refId":"A"}],"title":"Kong shared memory usage by Node [$servicetype]","type":"gauge"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":9,"w":24,"x":0,"y":10},"hiddenSeries":false,"id":43,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"nullPointMode":"null","options":{"alertThreshold":true},"percentage":false,"pluginVersion":"10.3.0-64167","pointradius":2,"points":false,"renderer":"flot","repeat":"servicetype","repeatDirection":"v","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","exemplar":true,"expr":"kong_memory_workers_lua_vms_bytes{chain=~\"APT\", network=~\"testnet\", servicetype=~\"$servicetype\"}","format":"time_series","instant":false,"interval":"","legendFormat":"PID:{{pid}} ({{kong_subsystem}})","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"Kong worker Lua VM usage by Node [$servicetype]","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"bytes","logBase":1,"show":true},{"format":"bytes","logBase":1,"show":true}],"yaxis":{"align":false}},{"collapsed":false,"datasource":{"type":"prometheus","uid":"iBujgiB7z"},"gridPos":{"h":1,"w":24,"x":0,"y":19},"id":51,"panels":[],"targets":[{"datasource":{"type":"prometheus","uid":"iBujgiB7z"},"refId":"A"}],"title":"Nginx","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":0,"y":20},"hiddenSeries":false,"id":72,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"paceLength":10,"percentage":false,"pluginVersion":"9.5.2-cloud.2.0cb5a501","pointradius":5,"points":false,"renderer":"flot","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","exemplar":true,"expr":"sum(kong_nginx_connections_total{state=~\"active|reading|writing|waiting\", chain=~\"APT\", network=~\"testnet\"}) by (chain, servicetype, network, state)","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"{{state}}","range":true,"refId":"A"}],"thresholds":[],"timeRegions":[],"title":"Nginx connection state [ALL]","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"short","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"light-orange"}]}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":20},"id":91,"links":[],"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"textMode":"auto"},"pluginVersion":"9.5.2-cloud.2.0cb5a501","repeatDirection":"h","targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","exemplar":true,"expr":"sum(kong_nginx_connections_total{state=~\"active|reading|writing|waiting\", chain=~\"APT\", network=~\"testnet\"}) by (chain, servicetype, network, state)","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"{{state}}","range":true,"refId":"A"}],"title":"Nginx connection state [ALL]","type":"stat"},{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"yellow"}]}},"overrides":[]},"gridPos":{"h":5,"w":24,"x":0,"y":28},"id":110,"links":[],"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"textMode":"auto"},"pluginVersion":"9.5.2-cloud.2.0cb5a501","repeat":"servicetype","repeatDirection":"h","targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","exemplar":true,"expr":"sum(kong_nginx_connections_total{state=~\"active|reading|writing|waiting\", chain=~\"APT\", network=~\"testnet\", servicetype=~\"$servicetype\"}) by (chain, servicetype, network, region, state)","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"{{state}}","range":true,"refId":"A"}],"title":"Nginx connection state [$servicetype]","type":"stat"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":7,"w":24,"x":0,"y":33},"hiddenSeries":false,"id":17,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"paceLength":10,"percentage":false,"pluginVersion":"9.5.2-cloud.2.0cb5a501","pointradius":5,"points":false,"renderer":"flot","repeat":"servicetype","repeatDirection":"h","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","exemplar":true,"expr":"sum(kong_nginx_connections_total{state=~\"active|reading|writing|waiting\", chain=~\"APT\", network=~\"testnet\", servicetype=~\"$servicetype\"}) by (chain, servicetype, network, region, state)","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"{{state}}","range":true,"refId":"A"}],"thresholds":[],"timeRegions":[],"title":"Nginx connection state [$servicetype]","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"short","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"color":{"fixedColor":"rgb(31, 120, 193)","mode":"fixed"},"mappings":[{"options":{"match":"null","result":{"text":"N/A"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"none"},"overrides":[]},"gridPos":{"h":5,"w":24,"x":0,"y":40},"id":18,"links":[],"maxDataPoints":100,"options":{"colorMode":"none","graphMode":"area","justifyMode":"auto","orientation":"vertical","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"textMode":"auto"},"pluginVersion":"9.5.2-cloud.2.0cb5a501","repeat":"servicetype","repeatDirection":"h","targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","exemplar":true,"expr":"sum(kong_nginx_connections_total{state=\"total\", chain=~\"APT\", network=~\"testnet\", servicetype=~\"$servicetype\"})","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"Total","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","expr":"sum(kong_nginx_connections_total{state=\"handled\", chain=~\"APT\", network=~\"testnet\", servicetype=~\"$servicetype\"})","hide":false,"legendFormat":"Handled","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","expr":"sum(kong_nginx_connections_total{state=\"accepted\", chain=~\"APT\", network=~\"testnet\", servicetype=~\"$servicetype\"})","hide":false,"legendFormat":"Accepted","range":true,"refId":"C"}],"title":"Total/Handles/Accepted Connections[$servicetype]","type":"stat"},{"collapsed":false,"datasource":{"type":"prometheus","uid":"iBujgiB7z"},"gridPos":{"h":1,"w":24,"x":0,"y":45},"id":38,"panels":[],"targets":[{"datasource":{"type":"prometheus","uid":"iBujgiB7z"},"refId":"A"}],"title":"Request Rate","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":9,"w":12,"x":0,"y":46},"hiddenSeries":false,"id":1,"legend":{"alignAsTable":false,"avg":false,"current":false,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"paceLength":10,"percentage":false,"pluginVersion":"9.5.2-cloud.2.0cb5a501","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","expr":"sum by (chain, servicetype, network, region, ) (rate(kong_http_requests_total{chain=\"APT\", network=\"mainnet\"}[1m]))","format":"time_series","intervalFactor":2,"legendFormat":"{{region}} Requests/second ","range":true,"refId":"A"}],"thresholds":[],"timeRegions":[],"title":"Total requests per second (RPS) ","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"$$hashKey":"object:346","format":"short","logBase":1,"show":true},{"$$hashKey":"object:347","format":"s","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":9,"w":12,"x":12,"y":46},"hiddenSeries":false,"id":11,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"paceLength":10,"percentage":false,"pluginVersion":"9.5.2-cloud.2.0cb5a501","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"exemplar":true,"expr":"histogram_quantile(0.90, sum(rate(kong_kong_latency_ms_bucket{service =~ \"$service\",route=~\"$route\",chain=~\"APT\", network=~\"testnet\"}[1m])) by (chain, servicetype, network, region, service,le))","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"p90-{{region}}","refId":"A"},{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"expr":"histogram_quantile(0.95, sum(rate(kong_kong_latency_ms_bucket{service =~ \"$service\",route=~\"$route\",chain=~\"APT\", network=~\"testnet\"}[1m])) by (chain, servicetype, network, region, service,le))","format":"time_series","intervalFactor":2,"legendFormat":"p95-{{region}}","refId":"B"},{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"expr":"histogram_quantile(0.99, sum(rate(kong_kong_latency_ms_bucket{service =~ \"$service\",route=~\"$route\",chain=~\"APT\", network=~\"testnet\"}[1m])) by (chain, servicetype, network, region, service,le))","format":"time_series","intervalFactor":2,"legendFormat":"p99-{{region}}","refId":"C"}],"thresholds":[],"timeRegions":[],"title":"Kong Proxy Latency per Region","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"ms","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":9,"w":12,"x":0,"y":55},"hiddenSeries":false,"id":39,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"paceLength":10,"percentage":false,"pluginVersion":"9.5.2-cloud.2.0cb5a501","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","expr":"sum(rate(kong_http_requests_total{service=~\"$service\", route=~\"$route\", chain=~\"APT\", network=~\"testnet\"}[1m])) by (chain, servicetype, network, region, service,code)","format":"time_series","intervalFactor":2,"legendFormat":"region:{{region}}-{{code}}","range":true,"refId":"A"}],"thresholds":[],"timeRegions":[],"title":"RPS per Region by status code","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"short","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":9,"w":12,"x":12,"y":55},"hiddenSeries":false,"id":13,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"paceLength":10,"percentage":false,"pluginVersion":"9.5.2-cloud.2.0cb5a501","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","expr":"histogram_quantile(0.90, sum(rate(kong_request_latency_ms_bucket{service =~ \"$service\",route=~\"$route\",chain=~\"APT\", network=~\"testnet\"}[1m])) by (chain, servicetype, network, region, service,le))","format":"time_series","intervalFactor":2,"legendFormat":"p90-{{region}}","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"expr":"histogram_quantile(0.95, sum(rate(kong_request_latency_ms_bucket{service =~ \"$service\",route=~\"$route\",chain=~\"APT\", network=~\"testnet\"}[1m])) by (chain, servicetype, network, region, service,le))","format":"time_series","intervalFactor":2,"legendFormat":"p95-{{region}}","refId":"B"},{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"expr":"histogram_quantile(0.99, sum(rate(kong_request_latency_ms_bucket{service =~ \"$service\",route=~\"$route\",chain=~\"APT\", network=~\"testnet\"}[1m])) by (chain, servicetype, network, region, service,le))","format":"time_series","intervalFactor":2,"legendFormat":"p99-{{region}}","refId":"C"}],"thresholds":[],"timeRegions":[],"title":"Request Time per Region","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"ms","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"collapsed":false,"datasource":{"type":"prometheus","uid":"iBujgiB7z"},"gridPos":{"h":1,"w":24,"x":0,"y":64},"id":36,"panels":[],"targets":[{"datasource":{"type":"prometheus","uid":"iBujgiB7z"},"refId":"A"}],"title":"Latencies","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":9,"w":24,"x":0,"y":65},"height":"250","hiddenSeries":false,"id":15,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"paceLength":10,"percentage":false,"pluginVersion":"9.5.2-cloud.2.0cb5a501","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","expr":"histogram_quantile(0.90, sum(rate(kong_upstream_latency_ms_bucket{service =~ \"$service\",route=~\"$route\",chain=~\"APT\", network=~\"testnet\"}[1m])) by (chain, servicetype, network, region, service,le))","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"p90-{{region}}","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"expr":"histogram_quantile(0.95, sum(rate(kong_upstream_latency_ms_bucket{service =~ \"$service\",route=~\"$route\",chain=~\"APT\", network=~\"testnet\"}[1m])) by (chain, servicetype, network, region, service,le))","format":"time_series","intervalFactor":2,"legendFormat":"p95-{{region}}","refId":"B"},{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"expr":"histogram_quantile(0.99, sum(rate(kong_upstream_latency_ms_bucket{service =~ \"$service\",route=~\"$route\",chain=~\"APT\", network=~\"testnet\"}[1m])) by (chain, servicetype, network, region, service,le))","format":"time_series","intervalFactor":2,"legendFormat":"p99-{{region}}","refId":"C"}],"thresholds":[],"timeRegions":[],"title":"Upstream Time across per Region","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"ms","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"collapsed":false,"datasource":{"type":"prometheus","uid":"iBujgiB7z"},"gridPos":{"h":1,"w":24,"x":0,"y":74},"id":34,"panels":[],"targets":[{"datasource":{"type":"prometheus","uid":"iBujgiB7z"},"refId":"A"}],"title":"Bandwidth","type":"row"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":7,"w":24,"x":0,"y":75},"hiddenSeries":false,"id":3,"legend":{"alignAsTable":true,"avg":true,"current":true,"max":true,"min":true,"rightSide":true,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"paceLength":10,"percentage":false,"pluginVersion":"9.5.2-cloud.2.0cb5a501","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","exemplar":true,"expr":"sum(irate(kong_bandwidth_bytes{chain=~\"APT\", network=~\"testnet\"}[1m])) by (chain, servicetype, network, region, type)","format":"time_series","interval":"","intervalFactor":2,"legendFormat":"{{region}}","range":true,"refId":"A"}],"thresholds":[],"timeRegions":[],"title":"Total Bandwidth","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"Bps","logBase":1,"show":true},{"format":"short","logBase":1,"show":false}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":7,"w":12,"x":0,"y":82},"hiddenSeries":false,"id":2,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"paceLength":10,"percentage":false,"pluginVersion":"9.5.2-cloud.2.0cb5a501","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"expr":"sum(irate(kong_bandwidth_bytes{direction=\"egress\", service =~\"$service\",route=~\"$route\",chain=~\"APT\", network=~\"testnet\"}[1m])) by (chain, servicetype, network, region, service)","format":"time_series","intervalFactor":2,"legendFormat":"service:{{region}}","refId":"A"}],"thresholds":[],"timeRegions":[],"title":"Egress per Region","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"Bps","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"links":[]},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":7,"w":12,"x":12,"y":82},"hiddenSeries":false,"id":9,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":true,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"nullPointMode":"null","options":{"alertThreshold":true},"paceLength":10,"percentage":false,"pluginVersion":"9.5.2-cloud.2.0cb5a501","pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","expr":"sum(irate(kong_bandwidth_bytes{direction=\"ingress\", service =~\"$service\", chain=\"APT\", servicetype=\"fullnode\", network=\"mainnet\"}[1m])) by (chain, servicetype, network, region, service)","format":"time_series","intervalFactor":2,"legendFormat":"{{region}}","range":true,"refId":"A"}],"thresholds":[],"timeRegions":[],"title":"Ingress per Region","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"mode":"time","show":true,"values":[]},"yaxes":[{"format":"Bps","logBase":1,"show":true},{"format":"short","logBase":1,"show":true}],"yaxis":{"align":false}},{"collapsed":false,"datasource":{"type":"prometheus","uid":"iBujgiB7z"},"gridPos":{"h":1,"w":24,"x":0,"y":89},"id":45,"panels":[],"targets":[{"datasource":{"type":"prometheus","uid":"iBujgiB7z"},"refId":"A"}],"title":"Upstream","type":"row"},{"cards":{},"color":{"cardColor":"#b4ff00","colorScale":"sqrt","colorScheme":"interpolateRdYlGn","exponent":0.5,"mode":"spectrum"},"dataFormat":"tsbuckets","datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fieldConfig":{"defaults":{"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false},"scaleDistribution":{"type":"linear"}}},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":90},"heatmap":{},"hideZeroBuckets":false,"highlightCards":true,"id":49,"legend":{"show":false},"options":{"calculate":false,"calculation":{},"cellGap":2,"cellValues":{},"color":{"exponent":0.5,"fill":"#b4ff00","mode":"scheme","reverse":false,"scale":"exponential","scheme":"RdYlGn","steps":128},"exemplars":{"color":"rgba(255,0,255,0.7)"},"filterValues":{"le":1e-9},"legend":{"show":false},"rowsFrame":{"layout":"auto"},"showValue":"never","tooltip":{"show":true,"yHistogram":false},"yAxis":{"axisPlacement":"left","reverse":false,"unit":"short"}},"pluginVersion":"9.5.2-cloud.2.0cb5a501","reverseYBuckets":false,"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","exemplar":true,"expr":"sum(kong_upstream_target_health{state=\"healthy\",upstream=~\"$upstream\", chain=\"APT\", network=\"mainnet\", servicetype=\"fullnode\"}) by (chain, servicetype, network, region, upstream,target,address) * -1  + sum(kong_upstream_target_health{state=~\"(unhealthy|dns_error)\",upstream=~\"$upstream\", chain=\"APT\", network=\"mainnet\", servicetype=\"fullnode\"}) by (chain, servicetype, network, region, upstream,target,address)","format":"heatmap","hide":false,"instant":false,"interval":"","legendFormat":"{{upstream}}:{{target}}::{{address}}","refId":"A"}],"title":"Healthy status","tooltip":{"show":true,"showHistogram":false},"transformations":[{"id":"seriesToColumns","options":{}}],"type":"heatmap","xAxis":{"show":true},"yAxis":{"format":"short","logBase":1,"show":true},"yBucketBound":"auto"},{"columns":[],"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"fontSize":"100%","gridPos":{"h":8,"w":12,"x":12,"y":90},"id":47,"options":{"frameIndex":0,"showHeader":true},"pluginVersion":"7.5.4","showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"","align":"auto","colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"Time","thresholds":[],"type":"hidden","unit":"short"},{"alias":"","align":"auto","colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"state","thresholds":[],"type":"hidden","unit":"short"},{"alias":"state","align":"auto","colorMode":"cell","colors":["rgba(245, 54, 54, 0.9)","#FADE2A","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"state_value","thresholds":["0","1"],"type":"string","unit":"short","valueMaps":[{"text":"healthy","value":"1"},{"text":"healthchecks_off","value":"0"},{"text":"unhealthy","value":"-1"}]},{"alias":"","align":"auto","colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"mappingType":1,"pattern":"Value","thresholds":[],"type":"hidden","unit":"short"}],"targets":[{"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"editorMode":"code","exemplar":false,"expr":"sum(\n# map state to a numeric value\n# since grafana doesn't support value mapping yet\n  label_replace(\n    label_replace(\n      label_replace(\n       kong_upstream_target_health{chain=\"APT\", network=\"mainnet\", servicetype=\"fullnode\",upstream=~\"$upstream\"}\n       # healthy is positive number\n       , \"state_value\", \"1\", \"state\", \"healthy\"\n       # healthchecks_off is 0\n      ), \"state_value\", \"0\", \"state\", \"healthchecks_off\"\n      # unhealthy is negative number\n    ), \"state_value\", \"-1\", \"state\", \"(dns_error|unhealthy)\"\n  )\n)\nby (chain, servicetype, network, region, upstream, target, address, state, state_value) \u003e 0","format":"table","instant":true,"interval":"","legendFormat":"","refId":"A"}],"transform":"table","transformations":[{"id":"organize","options":{"excludeByName":{"Time":true,"Value":true,"state":true},"indexByName":{"Time":0,"Value":5,"address":3,"state":4,"target":2,"upstream":1},"renameByName":{"Value":"report node count","state":"state_original","state_value":"state"}}}],"type":"table-old"}],"refresh":"","schemaVersion":39,"tags":["legacy"],"templating":{"list":[{"allValue":".*","current":{"selected":false,"text":"All","value":"$__all"},"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"definition":"label_values({__name__=~\"kong_http_requests_total|kong_kong_latency_ms_bucket\"},service)","hide":0,"includeAll":true,"label":"","multi":true,"name":"service","options":[],"query":{"query":"label_values({__name__=~\"kong_http_requests_total|kong_kong_latency_ms_bucket\"},service)","refId":"StandardVariableQuery"},"refresh":1,"regex":"","skipUrlSync":false,"sort":1,"tagValuesQuery":"","tagsQuery":"","type":"query","useTags":false},{"allValue":".*","current":{"selected":false,"text":"All","value":"$__all"},"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"definition":"label_values(kong_nginx_connections_total,instance)","hide":0,"includeAll":true,"label":"","multi":true,"name":"instance","options":[],"query":{"query":"label_values(kong_nginx_connections_total,instance)","refId":"StandardVariableQuery"},"refresh":2,"regex":".*","skipUrlSync":false,"sort":1,"tagValuesQuery":"","tagsQuery":"","type":"query","useTags":false},{"allValue":".*","current":{"selected":false,"text":"All","value":"$__all"},"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"definition":"label_values(kong_nginx_connections_total{chain=~\"APT\",network=~\"testnet\"},servicetype)","hide":0,"includeAll":true,"label":"","multi":true,"name":"servicetype","options":[],"query":{"query":"label_values(kong_nginx_connections_total{chain=~\"APT\",network=~\"testnet\"},servicetype)","refId":"StandardVariableQuery"},"refresh":2,"regex":".*","skipUrlSync":false,"sort":1,"tagValuesQuery":"","tagsQuery":"","type":"query","useTags":false},{"allValue":".*","current":{"selected":false,"text":"All","value":"$__all"},"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"definition":"label_values({__name__=~\"kong_http_requests_total|kong_kong_latency_ms_bucket\"},route)","hide":0,"includeAll":true,"label":"","multi":true,"name":"route","options":[],"query":{"query":"label_values({__name__=~\"kong_http_requests_total|kong_kong_latency_ms_bucket\"},route)","refId":"StandardVariableQuery"},"refresh":1,"regex":"","skipUrlSync":false,"sort":1,"tagValuesQuery":"","tagsQuery":"","type":"query","useTags":false},{"current":{"selected":false,"text":"All","value":"$__all"},"datasource":{"type":"prometheus","uid":"1YugLcnVk"},"definition":"label_values(kong_upstream_target_health, upstream)","hide":0,"includeAll":true,"multi":true,"name":"upstream","options":[],"query":{"query":"label_values(kong_upstream_target_health, upstream)","refId":"Prometheus-upstream-Variable-Query"},"refresh":1,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-1h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Kong - Aptos Testnet Fullnode","uid":"mY9p7dQmzat","version":7,"weekStart":""}}